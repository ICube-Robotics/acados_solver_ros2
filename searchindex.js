Search.setIndex({"alltitles": {"1) Build Acados model": [[7, "build-acados-model"]], "1) Define the CasADi symbols and parameters": [[4, "define-the-casadi-symbols-and-parameters"]], "1) Install dependencies": [[3, "install-dependencies"]], "1) Setup the ROS2 controller package dependencies": [[2, "setup-the-ros2-controller-package-dependencies"]], "2) Build and install ros2 packages": [[3, "build-and-install-ros2-packages"]], "2) Define the Acados model": [[4, "define-the-acados-model"]], "2) Formulate the optimal control problem (OCP)": [[7, "formulate-the-optimal-control-problem-ocp"]], "2) Load the solver plugin in the ROS2 controller": [[2, "load-the-solver-plugin-in-the-ros2-controller"]], "3) Configure the solver plugin in the ROS2 controller": [[2, "configure-the-solver-plugin-in-the-ros2-controller"]], "3) Define the Acados OCP": [[4, "define-the-acados-ocp"]], "3) Export and build the Acados solver plugins": [[3, "export-and-build-the-acados-solver-plugins"]], "3) Gnererate the C++ plugin": [[7, "gnererate-the-c-plugin"]], "3) Solve the OCP": [[2, "solve-the-ocp"]], "4) Launch demo": [[3, "launch-demo"]], "4) Use the plugin in a C++ application": [[7, "use-the-plugin-in-a-c-application"]], "Acados Solver Plugins": [[1, "acados-solver-plugins"]], "Acados solver ROS2 Stack": [[5, "acados-solver-ros2-stack"]], "Cartesian position tracking": [[3, "cartesian-position-tracking"]], "Constraints satisfaction": [[3, "constraints-satisfaction"]], "Example application": [[5, null]], "Example test code": [[6, "example-test-code"]], "Export the solver plugin": [[2, "export-the-solver-plugin"]], "Extra documentation": [[5, null]], "Full API reference": [[0, "full-api-reference"]], "Getting started": [[6, "getting-started"]], "Gnererate new acados solver plugins": [[1, "gnererate-new-acados-solver-plugins"]], "Illustrative results": [[3, "illustrative-results"]], "Installation": [[6, "installation"]], "Installation of the example package and launch": [[3, "installation-of-the-example-package-and-launch"]], "Load previously built acados solver plugins (not implemented yet)": [[1, "load-previously-built-acados-solver-plugins-not-implemented-yet"]], "Miscellaneous functions": [[1, "miscellaneous-functions"]], "Notes": [[4, "notes"]], "Notes and recommendations": [[2, "notes-and-recommendations"]], "OCP formulation": [[4, "ocp-formulation"]], "Python modules": [[5, null]], "Quickstart": [[5, null]], "ROS2 controller": [[2, "ros2-controller"]], "Robot dynamic modeling": [[4, "robot-dynamic-modeling"]], "Robot modeling and OCP formulation": [[4, "robot-modeling-and-ocp-formulation"]], "Transcription using CasADI and Acados": [[4, "transcription-using-casadi-and-acados"]], "Usage": [[7, "usage"]], "Use the plugin in a C++ controller": [[2, "use-the-plugin-in-a-c-controller"]]}, "docnames": ["developer_guide/API", "developer_guide/solver_plugins_python_API", "example_application/controller", "example_application/demo", "example_application/ocp_model", "index", "quickstart/installation", "quickstart/usage"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1}, "filenames": ["developer_guide/API.rst", "developer_guide/solver_plugins_python_API.rst", "example_application/controller.rst", "example_application/demo.rst", "example_application/ocp_model.rst", "index.rst", "quickstart/installation.rst", "quickstart/usage.rst"], "indexentries": {"_generate_file_from_template() (acados_solver_plugins.solver_plugin_generator.solverplugingenerator method)": [[1, "acados_solver_plugins.solver_plugin_generator.SolverPluginGenerator._generate_file_from_template", false]], "generate_solver_plugin() (acados_solver_plugins.solver_plugin_generator.solverplugingenerator method)": [[1, "acados_solver_plugins.solver_plugin_generator.SolverPluginGenerator.generate_solver_plugin", false]], "jinga_env_loader (acados_solver_plugins.solver_plugin_generator.solverplugingenerator attribute)": [[1, "acados_solver_plugins.solver_plugin_generator.SolverPluginGenerator.jinga_env_loader", false]], "load_solver_plugin() (acados_solver_plugins.solver_plugin_loader.solverpluginloader method)": [[1, "acados_solver_plugins.solver_plugin_loader.SolverPluginLoader.load_solver_plugin", false]], "solverplugingenerator (class in acados_solver_plugins.solver_plugin_generator)": [[1, "acados_solver_plugins.solver_plugin_generator.SolverPluginGenerator", false]], "solverpluginloader (class in acados_solver_plugins.solver_plugin_loader)": [[1, "acados_solver_plugins.solver_plugin_loader.SolverPluginLoader", false]], "uppercase_to_underscore() (in module acados_solver_plugins.utils)": [[1, "acados_solver_plugins.utils.uppercase_to_underscore", false]]}, "objects": {"acados_solver_plugins.solver_plugin_generator": [[1, 0, 1, "", "SolverPluginGenerator"]], "acados_solver_plugins.solver_plugin_generator.SolverPluginGenerator": [[1, 1, 1, "", "_generate_file_from_template"], [1, 1, 1, "", "generate_solver_plugin"], [1, 2, 1, "", "jinga_env_loader"]], "acados_solver_plugins.solver_plugin_loader": [[1, 0, 1, "", "SolverPluginLoader"]], "acados_solver_plugins.solver_plugin_loader.SolverPluginLoader": [[1, 1, 1, "", "load_solver_plugin"]], "acados_solver_plugins.utils": [[1, 3, 1, "", "uppercase_to_underscore"]]}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "function", "Python function"]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:attribute", "3": "py:function"}, "terms": {"0": [2, 3, 4, 7], "002": 2, "04": 6, "1": 6, "10": [2, 4], "11": 2, "12": 2, "13": 2, "14": 2, "20": 4, "22": 6, "25": 4, "2_": 4, "2_r": 4, "4": 2, "5": 2, "500": 2, "6": 2, "7": 2, "8": 2, "9": 2, "A": [3, 5, 7], "As": [2, 3, 4], "At": 6, "By": 2, "For": 2, "If": 2, "In": [2, 4], "It": [2, 3, 4], "The": [1, 2, 3, 4, 5, 7], "Then": [6, 7], "To": [2, 5, 7], "_": 4, "_generate_file_from_templ": [1, 2], "a_paramet": 7, "a_set_of_paramet": 7, "a_set_of_state_vari": 7, "a_state_vari": 7, "abl": 6, "acado": [2, 6], "acados_ocp": [1, 2], "acados_solver_": [2, 7], "acados_solver_bas": [2, 5, 7], "acados_solver_loader_": [2, 7], "acados_solver_plugin": [1, 2, 5, 7], "acados_solver_plugins_exampl": [5, 6], "acados_solver_ros2": [5, 6], "acados_solver_ros2_exampl": [2, 3, 4], "acados_templ": [1, 2, 3, 4, 7], "acadosmodel": [2, 4, 7], "acadosocp": [1, 2, 4, 7], "acadosocpsolv": [1, 2, 4], "acadossolv": [1, 2, 7], "acc": 4, "accept": 6, "access": 7, "actual": [2, 4, 7], "ad": 4, "add": 2, "addit": 4, "addition": 2, "advanc": 7, "algebra": [1, 2, 4], "all": 4, "all_ok": 2, "along": 4, "also": 7, "ament_target_depend": 2, "an": [2, 3, 4, 7], "angl": 4, "another_paramet": 7, "another_state_vari": 7, "api": [1, 2, 5], "append": 4, "appli": 4, "applic": 4, "apt": 6, "ar": [2, 3, 4, 7], "arg": [2, 3], "argument": 2, "around": 2, "arrai": 4, "ask": 6, "auto": [5, 7], "avoid": 2, "axi": 4, "b": [2, 3, 4, 7], "base": [1, 2, 6], "base_class_typ": 2, "bash": [2, 3, 6], "basic": 7, "begin": 4, "behavior": 4, "below": 4, "better": 4, "between": [5, 7], "blue": 3, "bmatrix": 4, "bool": 2, "bottom": 3, "bound": [4, 7], "build": [2, 6], "build_depend": 2, "c": [4, 5], "ca": 4, "callbackreturn": 2, "camel": 1, "can": [2, 3, 4, 7], "carefulli": 4, "cartesian": [2, 4], "casadi": [2, 7], "case": 1, "cd": [3, 6], "cfrac": 4, "chang": [2, 3, 7], "choic": 7, "chosen": 4, "class": [1, 2, 5, 7], "class_load": [2, 7], "classload": [2, 7], "clone": [3, 6], "close": 4, "cmake": [2, 3], "cmakelist": 2, "co": 4, "code": [1, 2, 4, 5, 7], "colcon": [2, 3, 6], "com": [3, 6], "command": 2, "command_interface_configur": 2, "common": 6, "compos": 4, "comput": [3, 4], "config": 2, "configur": 7, "consid": 4, "const": 2, "constraint": [4, 7], "construct": 2, "contain": 4, "control": [3, 4, 5], "controller_interfac": 2, "controllerinterfac": 2, "conveni": 2, "corioli": 4, "correspond": 7, "cost": [4, 7], "cost_expr_ext_cost": 4, "cost_expr_ext_cost_": 4, "cost_typ": 4, "cost_type_": 4, "could": 4, "cpp": 2, "creat": [4, 7], "createunmanagedinst": [2, 7], "current": [2, 6], "custom_export_path": [1, 2], "custom_import_path": 1, "d": [3, 4], "dae": [4, 7], "date": 5, "dcmake_build_typ": [2, 3], "ddot": 4, "declar": 4, "default": [1, 2, 4], "defin": [2, 7], "definit": 4, "demo": [2, 4, 5, 7], "demo_export_plugin_to_custom_pkg": 6, "depend": 6, "deriv": [1, 2, 4], "describ": [3, 4], "descript": [1, 2, 7], "description_of_the_solv": 7, "desir": [3, 4], "detail": [4, 7], "dev": 6, "diag": 4, "dict": [1, 2], "differenti": [1, 2, 4], "dim": 4, "directli": 2, "directori": [2, 4], "discret": 4, "displai": 3, "distribut": 6, "document": [1, 2, 4, 6, 7], "done": 4, "dot": [3, 4], "doubl": [2, 7], "doxygen": 0, "drag": 3, "dt": 4, "durat": [2, 4], "dynam": 7, "e": [2, 3, 4, 5, 7], "e501": 2, "each": 7, "easili": 4, "echo": [2, 3], "effector": [3, 4], "effici": 2, "els": 2, "empti": [2, 7], "end": [3, 4], "enough": 4, "environ": [1, 2, 6], "equat": 4, "erk": 7, "err_p": 4, "err_p_dot": 4, "error": [2, 4], "especi": [2, 7], "etc": 7, "exampl": [2, 4, 7], "example_acados_bringup": 3, "example_acados_control": [2, 3, 4], "exampleacadoscontrol": 2, "exec_depend": 2, "explicit": [4, 7], "export": [1, 6, 7], "export_acados_solver_plugin": [2, 3, 4], "export_filenam": [1, 2], "export_plugin": 2, "expr_q_dot2": 4, "extens": 6, "extern": [1, 2, 4], "extra": 4, "f": 4, "f_expl_expr": 4, "f_impl_expr": 4, "fail": 2, "failur": 2, "fals": 2, "featur": 4, "fig": 3, "figur": [2, 4], "file": [2, 4], "final": 7, "find_packag": 2, "first": [2, 3, 4, 6], "folder": [1, 2], "follow": [2, 4], "form": 4, "formul": 5, "forward": 4, "found": [2, 4], "from": [1, 2, 3, 4, 5, 6, 7], "full": [2, 4, 5], "fulli": 4, "function": [4, 7], "g": [2, 4, 7], "gener": [1, 2, 5, 6, 7], "generate_solver_plugin": [1, 2, 7], "geometri": 4, "get": [2, 5, 7], "get_control_valu": 7, "get_control_values_as_map": 2, "get_logg": 2, "get_nlp_in": 7, "get_nlp_opt": 7, "get_nlp_out": 7, "get_nod": 2, "get_state_valu": 7, "git": [3, 6], "github": [3, 5, 6], "given": [4, 7], "goal": [4, 5], "graviti": 4, "helper": [5, 7], "here": [2, 4], "high": 4, "higher": 7, "horizon": [2, 4, 7], "how": [2, 7], "hpipm": 7, "hpp": [2, 7], "http": [3, 6], "humbl": [3, 6], "hz": 2, "i": [2, 3, 4, 5, 7], "icub": [3, 6], "idxbu": 4, "idxbx": 4, "idxbx_": 4, "ignor": [3, 6], "illustr": [5, 7], "implement": [3, 4], "implepmenet": 4, "implicit": 4, "import": [2, 3, 4, 6, 7], "includ": [2, 4, 5, 7], "index": [1, 2], "indic": [2, 7], "inertia": 4, "inherit": 2, "init": [2, 7], "initi": [1, 2, 4, 7], "input": [2, 3, 7], "instal": [1, 2], "instanc": 7, "instanti": 7, "instead": 4, "int": 2, "int_": 4, "integr": 7, "integrator_typ": 4, "interact": 3, "interfac": [5, 7], "interfaceconfigur": 2, "inv": 4, "irk": [4, 7], "iter": 7, "itself": 4, "jacobian": 4, "jerk": 4, "jinga_env_load": [1, 2], "jinja": [1, 2], "jinja2": [1, 2], "joint": [2, 3, 4], "kg": 4, "kinemat": 4, "l": 4, "l0": [2, 4], "l1": [2, 4], "l2": [2, 4], "latter": 7, "launch_demo": 3, "launch_plotjuggl": 3, "lbu": 4, "lbx": 4, "lbx_e": 4, "left": 4, "length": 4, "leq": 4, "let": 4, "level": 7, "librari": [2, 5], "library_nam": [1, 2], "like": 4, "limit": 4, "line": 3, "linear": [4, 5], "link": 4, "load": 7, "load_solver_plugin": 1, "loader": [1, 2, 7], "look": [1, 2], "loop": [4, 7], "lower": 7, "lqr": 4, "lt": 6, "m": [4, 6], "m1": [2, 4], "m2": [2, 4], "make_shar": [2, 7], "mandatori": 2, "map": [1, 2, 7], "marker": 3, "mass": 4, "mathbb": 4, "mathcal": 4, "matric": 4, "matrix": 4, "max": 4, "method": [2, 7], "might": 2, "min": 4, "minim": 4, "minimalist": [1, 2, 5], "mkdir": 3, "mockacadossolv": 6, "model": [1, 2, 5], "modul": [1, 2], "more": [2, 4, 7], "n": [2, 3, 4, 7], "name": [1, 2, 4, 7], "name_of_the_plugin_class": 7, "namespac": 2, "necessari": 7, "need": 2, "newli": 6, "next": 7, "nlp": 4, "nlp_solver_typ": 4, "nmpc": [2, 3, 4, 5, 6], "nmpc_plugin_nam": [2, 7], "node": [2, 3], "non": [4, 5], "none": [1, 2], "nonlinear": 4, "nonlinear_l": 4, "noqa": 2, "note": 6, "np": 4, "num": 4, "number": 2, "numpi": 4, "object": [1, 2, 7], "ocp": [1, 5], "od": [4, 7], "offici": 6, "on_activ": 2, "on_configur": 2, "on_init": 2, "onc": 7, "onli": 7, "opt": [3, 6], "optim": [2, 4, 5], "option": [1, 2, 4, 7], "order": [2, 4], "origin": 4, "other": 4, "overrid": 2, "overview": 7, "p": [3, 4], "p_dot_ref": [2, 4], "p_index_map": [1, 2, 7], "p_ref": [2, 4], "p_values_map": 2, "packag": [5, 7], "packageload": [1, 2], "paramet": [1, 2, 7], "parameter_valu": 4, "pass": 2, "path": [2, 3, 6], "pendulum": 6, "perform": 4, "period": [2, 4, 7], "pi": 4, "placehold": 4, "planar": [2, 4], "plane": 4, "plot": 3, "plotjuggl": 3, "plugin": [5, 6], "plugin_class_nam": [1, 2, 7], "plugin_sources_dir": 2, "pluginlib": [2, 7], "point": [4, 6], "posit": 4, "practic": 4, "predict": [2, 4, 7], "prediction_horizon": 7, "prepar": 6, "present": 3, "press": 6, "previou": [2, 3], "previous_st": 2, "problem": [2, 4, 6], "product": [1, 2], "program": [4, 6], "project": 5, "prompt": 2, "properti": 4, "protect": 2, "prototyp": [5, 7], "provid": [2, 3, 5, 7], "public": 2, "publish": 3, "purpos": [4, 7], "py": [2, 3, 4], "python": [1, 2, 3, 4], "python3": [2, 3, 6], "q": [2, 4], "q_": 4, "q_1": 4, "q_2": 4, "q_dot": [2, 4], "q_dot_max": 4, "q_err_p": 4, "q_err_p_dot": 4, "q_p": 4, "q_po": [2, 4], "q_pos_diag": [2, 4], "q_v": 4, "q_vel": [2, 4], "q_vel_diag": [2, 4], "qp": 7, "qpoas": 7, "r": [3, 4, 6], "r_diag": [2, 4], "rang": 4, "raw": 3, "rclcpp": 2, "rclcpp_error": 2, "rclcpp_lifecycl": 2, "rebuild": 2, "red": 3, "refer": [2, 4, 5, 7], "reform": 1, "reformat": 1, "relative_path_to_script": 2, "releas": [2, 3], "relev": [1, 2], "render": 6, "replic": 4, "repo": [3, 6], "repositori": [2, 3, 4, 5], "repres": 4, "requir": [2, 6], "reset": 2, "respect": [3, 4], "result": [2, 5], "ret": 7, "retriev": 7, "return": [1, 2], "return_typ": 2, "right": 4, "rigor": 4, "ro": [3, 6], "robot": [2, 3, 5, 6], "ros2": 6, "ros2_w": [3, 6], "rosdep": [3, 6], "row": 3, "rrbot": [2, 4], "rrbot_model": 4, "rrbotcartesiantrack": 2, "run": [2, 6], "runtim": [2, 7], "rviz": 3, "rviz2": 3, "sampl": [2, 4, 7], "sampling_period_in_second": 7, "script": [2, 3, 4, 6], "seamlessli": 5, "second": [3, 4], "section": [2, 3], "see": [0, 2, 3, 4, 6, 7], "self": 4, "semant": [2, 7], "send": 2, "server": 3, "set": [2, 3, 4, 7], "set_control_bound": 7, "set_initial_state_valu": [2, 7], "set_runtime_paramet": [2, 7], "set_state_bound": 7, "setter": 2, "setup": [3, 6], "shape": 4, "shared_ptr": [2, 7], "shoot": 2, "short": [1, 2], "should": [2, 4, 6], "show": [2, 3], "shown": [2, 3], "simpl": [2, 5], "simpli": [2, 3, 4, 7], "sin": 4, "slack": 4, "snake": 1, "so": 4, "solut": 7, "solv": [4, 6, 7], "solver": [4, 6, 7], "solver_descript": [1, 2, 7], "solver_opt": 4, "solver_plugin_gener": [1, 2, 7], "solver_plugin_load": 1, "solver_plugin_nam": 1, "solverplugingener": [1, 2, 7], "solverpluginload": 1, "some": [2, 4, 7], "some_control_vari": 7, "sourc": [1, 2, 3, 6], "specifi": [4, 7], "sqp": 2, "sqp_rti": 4, "src": [2, 3, 6], "stack": 6, "stage": [4, 7], "start": [5, 7], "state": [1, 2, 3, 4, 7], "state_interface_configur": 2, "std": [2, 7], "step": [4, 6, 7], "store": 2, "str": [1, 2], "string": [1, 2], "subject": 4, "successfulli": 3, "sudo": 6, "sx": 4, "sym": 4, "sym_l0": 4, "sym_l1": 4, "sym_l2": 4, "sym_m1": 4, "sym_m2": 4, "sym_p": 4, "sym_p_dot": 4, "sym_p_dot_ref": 4, "sym_p_ref": 4, "sym_q": 4, "sym_q_dot": 4, "sym_q_pos_diag": 4, "sym_q_vel_diag": 4, "sym_r_diag": 4, "sym_tau": 4, "sym_xdot": 4, "symbol": 7, "symlink": [2, 3], "system": [4, 6, 7], "t": [2, 4], "t_f": 4, "t_k": 4, "take": [2, 7], "tau": [2, 4], "tau_": 4, "tau_1": 4, "tau_2": 4, "tau_cmd": 2, "templat": [1, 2, 5], "template_filenam": [1, 2], "template_render_arg": [1, 2], "tera": 6, "termin": 4, "test_class": 1, "test_mock_plugin": 6, "testclass": 1, "tf": 4, "them": 5, "thi": [2, 3, 4, 6, 7], "third": 4, "time": [2, 3, 4, 6, 7], "todo": 1, "torqu": [3, 4], "track": [2, 4], "trajectori": [2, 4], "transcrib": 4, "tree": 2, "true": [2, 3], "tune": 4, "txt": 2, "type": [1, 2], "u": 4, "u_index_map": [1, 2, 7], "u_values_map": 2, "ubu": 4, "ubuntu": 6, "ubx": 4, "ubx_": 4, "unique_ptr": [2, 7], "unit": 4, "updat": [2, 3, 7], "upper": 7, "uppercase_to_underscor": 1, "us": [3, 5, 6], "usag": 5, "user": [2, 3], "util": 1, "valu": [2, 4, 7], "valuemap": 2, "variabl": [2, 4, 7], "vc": [3, 6], "vector": [2, 4, 7], "veloc": [3, 4], "veri": 4, "vertcat": 4, "visibl": 3, "visual": 3, "wai": 2, "we": [2, 4, 7], "weight": 4, "when": [5, 7], "where": 4, "which": [2, 4], "while": 3, "workspac": [2, 6], "wrap": 7, "wrapper": [2, 5], "write": 4, "x": 4, "x0": 4, "x_dot": 4, "x_index_map": [1, 2, 7], "x_k": 4, "x_values_map": 2, "xdot": 4, "xml": 2, "xz": 4, "y": [2, 3, 6], "you": [6, 7], "your": 7, "z": 4, "z_index_map": [1, 2, 7], "zero": 4}, "titles": ["Full API reference", "Acados Solver Plugins", "ROS2 controller", "Illustrative results", "Robot modeling and OCP formulation", "Acados solver ROS2 Stack", "Getting started", "Usage"], "titleterms": {"1": [2, 3, 4, 7], "2": [2, 3, 4, 7], "3": [2, 3, 4, 7], "4": [3, 7], "acado": [1, 3, 4, 5, 7], "api": 0, "applic": [5, 7], "build": [3, 7], "built": 1, "c": [2, 7], "cartesian": 3, "casadi": 4, "code": 6, "configur": 2, "constraint": 3, "control": [2, 7], "defin": 4, "demo": 3, "depend": [2, 3], "document": 5, "dynam": 4, "exampl": [3, 5, 6], "export": [2, 3], "extra": 5, "formul": [4, 7], "full": 0, "function": 1, "get": 6, "gnerer": [1, 7], "illustr": 3, "implement": 1, "instal": [3, 6], "launch": 3, "load": [1, 2], "miscellan": 1, "model": [4, 7], "modul": 5, "new": 1, "note": [2, 4], "ocp": [2, 4, 7], "optim": 7, "packag": [2, 3], "paramet": 4, "plugin": [1, 2, 3, 7], "posit": 3, "previous": 1, "problem": 7, "python": 5, "quickstart": 5, "recommend": 2, "refer": 0, "result": 3, "robot": 4, "ros2": [2, 3, 5], "satisfact": 3, "setup": 2, "solv": 2, "solver": [1, 2, 3, 5], "stack": 5, "start": 6, "symbol": 4, "test": 6, "track": 3, "transcript": 4, "us": [2, 4, 7], "usag": 7, "yet": 1}})